å‰‘æŒ‡Offerå…¸å‹é¢˜æ•´ç† - äº‰å–åšæœ€å¥½çš„é¢˜è§£

# å‰‘æŒ‡Offer24-åè½¬é“¾è¡¨

æ•´ç†æ—¶é—´ï¼š2020å¹´02æœˆ17æ—¥

*æœ¬é¢˜å’Œ LeetCode-206 ç›¸åŒ*



**é¢˜ç›®æè¿°**

```
å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä½¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹å¼å®ç°ã€‚
```



**ç¤ºä¾‹**

```
è¾“å…¥: 1->2->3->4->5->NULL
è¾“å‡º: 5->4->3->2->1->NULL
```



**é™åˆ¶ï¼š**

```
0 <= èŠ‚ç‚¹ä¸ªæ•° <= 5000
```



**é¢˜è§£**

è¿™æ˜¯ä¸€é“éå¸¸ç»å…¸çš„é¢˜ç›®äº†ï¼Œé€’å½’å’Œè¿­ä»£ä¸¤ç§å®ç°å®ç°æ–¹æ³•æ›´æ˜¯èƒ½å¤Ÿä½“ç°åŸºæœ¬ç¼–ç¨‹ç´ å…»ã€‚

ğŸ˜Šè§£æ³•1ï¼šåŒæŒ‡é’ˆè¿­ä»£æ³•

éœ€è¦ä½¿ç”¨åˆ°ä¸¤ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆ`cur`å®šä½åŸå…ˆé“¾è¡¨çš„å¤´ï¼ŒæŒ‡é’ˆ`pre`å®šä½é€†è½¬é“¾è¡¨çš„å¤´ã€‚è§£å†³è¿™ç§é—®é¢˜æœ€å¥½çš„æ–¹æ³•è¿˜æ˜¯ç”»å›¾è‡ªå·±åˆ†æï¼Œæµç¨‹å›¾å¦‚ä¸‹ï¼š

![](images/24.png)

`C++ç‰ˆæœ¬`

```C++
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        ListNode *pre = NULL;
        ListNode *cur = head;
        while (cur != NULL) {
            ListNode *temp = cur->next;
            cur->next = pre;
            pre = cur;
            cur = temp;
        }
        return pre;
    }
};
```

`pythonç‰ˆæœ¬`

```python
# Definition for singly-linked list.
# class ListNode(object):
#     def __init__(self, x):
#         self.val = x
#         self.next = None

class Solution(object):
    def reverseList(self, head):
        """
        :type head: ListNode
        :rtype: ListNode
        """
        pre, cur = None, head
        while cur:
            pre, cur.next, cur = cur, pre, cur.next
        return pre
```



ğŸ˜ è§£æ³•2ï¼šé€’å½’è§£æ³•

è¿™é“é¢˜ç”¨é€’å½’æ±‚è§£è¿˜æ˜¯æ¯”è¾ƒç»•çš„ï¼Œå¾ˆå®¹æ˜“ç»•æ™•ï¼Œæˆ‘æ€»ç»“çš„ç»éªŒå¦‚ä¸‹ï¼š

1. æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼šä½•æ—¶ç»ˆæ­¢é€’å½’ï¼Ÿ
2. æ‰¾è¿”å›å€¼ï¼šåº”è¯¥ç»™ä¸Šä¸€å±‚é€’å½’è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼Ÿ
3. æœ¬å±‚é€’å½’åº”è¯¥åšä»€ä¹ˆï¼šåœ¨è¿™ä¸€å±‚é€’å½’ä¸­åº”è¯¥å®Œæˆå“ªäº›å†…å®¹ï¼Ÿ

åœ¨è¿™ä¸ªé¢˜ç›®ä¸­é€ä¸€åˆ†æï¼š

1. ç»ˆæ­¢æ¡ä»¶å³å½“å‰èŠ‚ç‚¹ä¸ºé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹`head.next == None`æˆ–è€…é“¾è¡¨æœ¬èº«ä¸ºç©º`head == None`ï¼š

   ```python
   if head == None or head.next == None:
       return head
   ```

2. å› ä¸ºæˆ‘ä»¬éœ€è¦æœ€åä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºè¿”å›å€¼ï¼Œæ‰€ä»¥åº”è¯¥è¿”å›åŸé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæœ€åä¸€ä¸ªå…¥æ ˆçš„èŠ‚ç‚¹ï¼Œå³1ä¸­è¿”å›çš„èŠ‚ç‚¹ï¼‰ï¼š

   ```python
   return ret
   ```

3. åœ¨å½“å‰é€’å½’ä¸­åº”è¯¥å°†å½“å‰å±‚nextèŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘å½“å‰å±‚èŠ‚ç‚¹ï¼›å¦å¤–ä¸ºäº†é¿å…é“¾è¡¨æœ€ç»ˆæˆç¯ï¼Œéœ€è¦å°†å½“å‰å±‚çš„èŠ‚ç‚¹çš„nextç½®ä¸ºç©ºï¼š

   ```python
   head.next.next = head
   head.next = None
   ```



å›¾è§£ï¼š

![](./images/24-2.png)



`C++ç‰ˆæœ¬`

```C++
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        if (head == NULL || head->next == NULL) {
            return head;
        }
        ListNode *ret = reverseList(head->next);
        head->next->next = head;
        head->next = NULL;
        return ret;
    }
};
```

`pythonç‰ˆæœ¬`

```python
# Definition for singly-linked list.
# class ListNode(object):
#     def __init__(self, x):
#         self.val = x
#         self.next = None

class Solution(object):
    def reverseList(self, head):
        """
        :type head: ListNode
        :rtype: ListNode
        """
        if head == None or head.next == None:
            return head
        ret = self.reverseList(head.next)
        head.next.next = head
        head.next = None
        return ret
```



(å®Œ)